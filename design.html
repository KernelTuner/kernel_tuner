

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Design documentation &mdash; Kernel Tuner 0.1.7 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="Kernel Tuner 0.1.7 documentation" href="index.html"/>
        <link rel="next" title="Contribution guide" href="contributing.html"/>
        <link rel="prev" title="API Documentation" href="user-api.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> Kernel Tuner
          

          
          </a>

          
            
            
              <div class="version">
                0.1.7
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="index.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="install.html">Installation Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="convolution.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="diffusion.html">Tutorial: From physics to tuned GPU kernels</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">Kernel Tuner Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="matrix_multiplication.html">Matrix multiplication</a></li>
<li class="toctree-l1"><a class="reference internal" href="correctness.html">Kernel Correctness Verification</a></li>
<li class="toctree-l1"><a class="reference internal" href="hostcode.html">Tuning Host Code</a></li>
<li class="toctree-l1"><a class="reference internal" href="user-api.html">API Documentation</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Design documentation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#strategies">Strategies</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#module-kernel_tuner.strategies.brute_force">kernel_tuner.strategies.brute_force</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-kernel_tuner.strategies.random_sample">kernel_tuner.strategies.random_sample</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-kernel_tuner.strategies.minimize">kernel_tuner.strategies.minimize</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-kernel_tuner.strategies.basinhopping">kernel_tuner.strategies.basinhopping</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-kernel_tuner.strategies.diff_evo">kernel_tuner.strategies.diff_evo</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#runners">Runners</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#kernel-tuner-runners-sequential-sequentialrunner">kernel_tuner.runners.sequential.SequentialRunner</a></li>
<li class="toctree-l3"><a class="reference internal" href="#kernel-tuner-runners-noodles-noodlesrunner">kernel_tuner.runners.noodles.NoodlesRunner</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#device-interfaces">Device Interfaces</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#kernel-tuner-core-deviceinterface">kernel_tuner.core.DeviceInterface</a></li>
<li class="toctree-l3"><a class="reference internal" href="#kernel-tuner-cuda-cudafunctions">kernel_tuner.cuda.CudaFunctions</a></li>
<li class="toctree-l3"><a class="reference internal" href="#kernel-tuner-opencl-openclfunctions">kernel_tuner.opencl.OpenCLFunctions</a></li>
<li class="toctree-l3"><a class="reference internal" href="#kernel-tuner-c-cfunctions">kernel_tuner.c.CFunctions</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#util-functions">Util Functions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#module-kernel_tuner.util">kernel_tuner.util</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contribution guide</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Kernel Tuner</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Design documentation</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <a href="https://github.com/benvanwerkhoven/kernel_tuner/blob/master/doc/source/design.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast,
.nboutput.nblast {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast + .nbinput {
    margin-top: -19px;
}

/* nice headers on first paragraph of info/warning boxes */
.admonition .first {
    margin: -12px;
    padding: 6px 12px;
    margin-bottom: 12px;
    color: #fff;
    line-height: 1;
    display: block;
}
.admonition.warning .first {
    background: #f0b37e;
}
.admonition.note .first {
    background: #6ab0de;
}
.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}
</style>
<div class="toctree-wrapper compound">
</div>
<div class="section" id="design-documentation">
<h1>Design documentation<a class="headerlink" href="#design-documentation" title="Permalink to this headline">¶</a></h1>
<p>This section provides detailed information about the design and internals
of the Kernel Tuner. <strong>This information is mostly relevant for developers.</strong></p>
<p>The Kernel Tuner is designed to be extensible and support
different search and execution strategies. The current architecture of
the Kernel Tuner can be seen as:</p>
<a class="reference internal image-reference" href="_images/design.png"><img alt="_images/design.png" src="_images/design.png" style="width: 500pt;" /></a>
<p>At the top we have the kernel code and the Python script that tunes it,
which uses any of the main functions exposed in the user interface.</p>
<p>The strategies are responsible for iterating over and searching through
the search space. The default strategy is <code class="docutils literal"><span class="pre">brute_force</span></code>, which
iterates over all valid kernel configurations in the search space.
<code class="docutils literal"><span class="pre">random_sample</span></code> simply takes a random sample of the search space. More
advanced strategies currently implemented in Kernel Tuner are
<code class="docutils literal"><span class="pre">minimize</span></code>, <code class="docutils literal"><span class="pre">basinhopping</span></code>, and differential evolution
(<code class="docutils literal"><span class="pre">diff_evo</span></code>). How to use these is explained in the <a class="reference internal" href="user-api.html"><span class="doc">API Documentation</span></a>,
see the options <code class="docutils literal"><span class="pre">strategy</span></code> and <code class="docutils literal"><span class="pre">method</span></code>.</p>
<p>The runners are responsible for compiling and benchmarking the kernel
configurations selected by the strategy. The default runner is the
sequential runner, which does exactly what its name says. It compiles
and benchmarks configurations using a single sequential Python process.
The Noodles runner is a parallel runner that uses the Noodles library to
parallelize a brute force or random sample iteration over the search
space across of a number of Python processes on the same node or across
a number of nodes in a compute cluster.</p>
<p>The runners are implemented on top of a high-level <em>Device Interface</em>,
which wraps all the functionality for compiling and benchmarking
kernel configurations based on the low-level <em>Device Function Interface</em>.
Currently, we have
three different implementations of the device function interface, which
basically abstracts the different backends into a set of simple
functions such as <code class="docutils literal"><span class="pre">ready_argument_list</span></code> which allocates GPU memory and
moves data to the GPU, and functions like <code class="docutils literal"><span class="pre">compile</span></code>, <code class="docutils literal"><span class="pre">benchmark</span></code>, or
<code class="docutils literal"><span class="pre">run_kernel</span></code>. The functions in the core are basically the main
building blocks for implementing runners.</p>
<p>At the bottom, the three backends that we currently have are shown.
PyCUDA and PyOpenCL are for tuning either CUDA or OpenCL kernels. The C
Functions implementation can actually call any compiler, typically NVCC
or GCC is used. This backend was created not just to be able to tune C
functions, but mostly to tune C functions that also launch GPU kernels.</p>
<p>The rest of this section contains the API documentation of the modules
discussed above. For the documentation of the user API see the
<a class="reference internal" href="user-api.html"><span class="doc">API Documentation</span></a>.</p>
<div class="section" id="strategies">
<h2>Strategies<a class="headerlink" href="#strategies" title="Permalink to this headline">¶</a></h2>
<div class="section" id="module-kernel_tuner.strategies.brute_force">
<span id="kernel-tuner-strategies-brute-force"></span><h3>kernel_tuner.strategies.brute_force<a class="headerlink" href="#module-kernel_tuner.strategies.brute_force" title="Permalink to this headline">¶</a></h3>
<p>The default strategy that iterates through the whole parameter space</p>
<dl class="function">
<dt id="kernel_tuner.strategies.brute_force.tune">
<code class="descclassname">kernel_tuner.strategies.brute_force.</code><code class="descname">tune</code><span class="sig-paren">(</span><em>runner</em>, <em>kernel_options</em>, <em>device_options</em>, <em>tuning_options</em><span class="sig-paren">)</span><a class="headerlink" href="#kernel_tuner.strategies.brute_force.tune" title="Permalink to this definition">¶</a></dt>
<dd><p>Tune all instances in the parameter space</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Params runner:</th><td class="field-body"><p class="first">A runner from kernel_tuner.runners</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>kernel_options</strong> (<em>kernel_tuner.interface.Options</em>) – A dictionary with all options for the kernel.</li>
<li><strong>device_options</strong> (<em>kernel_tuner.interface.Options</em>) – A dictionary with all options for the device
on which the kernel should be tuned.</li>
<li><strong>tuning_options</strong> (<em>kernel_tuner.interface.Options</em>) – A dictionary with all options regarding the tuning
process.</li>
</ul>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">A list of dictionaries for executed kernel configurations and their
execution times. And a dictionary that contains a information
about the hardware/software environment on which the tuning took place.</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list(dict()), dict()</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-kernel_tuner.strategies.random_sample">
<span id="kernel-tuner-strategies-random-sample"></span><h3>kernel_tuner.strategies.random_sample<a class="headerlink" href="#module-kernel_tuner.strategies.random_sample" title="Permalink to this headline">¶</a></h3>
<p>Iterate over a random sample of the parameter space</p>
<dl class="function">
<dt id="kernel_tuner.strategies.random_sample.tune">
<code class="descclassname">kernel_tuner.strategies.random_sample.</code><code class="descname">tune</code><span class="sig-paren">(</span><em>runner</em>, <em>kernel_options</em>, <em>device_options</em>, <em>tuning_options</em><span class="sig-paren">)</span><a class="headerlink" href="#kernel_tuner.strategies.random_sample.tune" title="Permalink to this definition">¶</a></dt>
<dd><p>Tune a random sample of sample_fraction fraction in the parameter space</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Params runner:</th><td class="field-body"><p class="first">A runner from kernel_tuner.runners</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>kernel_options</strong> (<em>kernel_tuner.interface.Options</em>) – A dictionary with all options for the kernel.</li>
<li><strong>device_options</strong> (<em>kernel_tuner.interface.Options</em>) – A dictionary with all options for the device
on which the kernel should be tuned.</li>
<li><strong>tuning_options</strong> (<em>kernel_tuner.interface.Options</em>) – A dictionary with all options regarding the tuning
process.</li>
</ul>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">A list of dictionaries for executed kernel configurations and their
execution times. And a dictionary that contains a information
about the hardware/software environment on which the tuning took place.</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list(dict()), dict()</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-kernel_tuner.strategies.minimize">
<span id="kernel-tuner-strategies-minimize"></span><h3>kernel_tuner.strategies.minimize<a class="headerlink" href="#module-kernel_tuner.strategies.minimize" title="Permalink to this headline">¶</a></h3>
<p>The strategy that uses a minimizer method for searching through the parameter space</p>
<dl class="function">
<dt id="kernel_tuner.strategies.minimize.get_bounds">
<code class="descclassname">kernel_tuner.strategies.minimize.</code><code class="descname">get_bounds</code><span class="sig-paren">(</span><em>tune_params</em><span class="sig-paren">)</span><a class="headerlink" href="#kernel_tuner.strategies.minimize.get_bounds" title="Permalink to this definition">¶</a></dt>
<dd><p>create a bounds array from the tunable parameters</p>
</dd></dl>

<dl class="function">
<dt id="kernel_tuner.strategies.minimize.get_bounds_x0_eps">
<code class="descclassname">kernel_tuner.strategies.minimize.</code><code class="descname">get_bounds_x0_eps</code><span class="sig-paren">(</span><em>tuning_options</em><span class="sig-paren">)</span><a class="headerlink" href="#kernel_tuner.strategies.minimize.get_bounds_x0_eps" title="Permalink to this definition">¶</a></dt>
<dd><p>compute bounds, x0 (the initial guess), and eps</p>
</dd></dl>

<dl class="function">
<dt id="kernel_tuner.strategies.minimize.setup_method_arguments">
<code class="descclassname">kernel_tuner.strategies.minimize.</code><code class="descname">setup_method_arguments</code><span class="sig-paren">(</span><em>method</em>, <em>bounds</em><span class="sig-paren">)</span><a class="headerlink" href="#kernel_tuner.strategies.minimize.setup_method_arguments" title="Permalink to this definition">¶</a></dt>
<dd><p>prepare method specific arguments</p>
</dd></dl>

<dl class="function">
<dt id="kernel_tuner.strategies.minimize.setup_method_options">
<code class="descclassname">kernel_tuner.strategies.minimize.</code><code class="descname">setup_method_options</code><span class="sig-paren">(</span><em>method</em>, <em>tuning_options</em><span class="sig-paren">)</span><a class="headerlink" href="#kernel_tuner.strategies.minimize.setup_method_options" title="Permalink to this definition">¶</a></dt>
<dd><p>prepare method specific options</p>
</dd></dl>

<dl class="function">
<dt id="kernel_tuner.strategies.minimize.snap_to_nearest_config">
<code class="descclassname">kernel_tuner.strategies.minimize.</code><code class="descname">snap_to_nearest_config</code><span class="sig-paren">(</span><em>x</em>, <em>tune_params</em><span class="sig-paren">)</span><a class="headerlink" href="#kernel_tuner.strategies.minimize.snap_to_nearest_config" title="Permalink to this definition">¶</a></dt>
<dd><p>helper func that for each param selects the closest actual value</p>
</dd></dl>

<dl class="function">
<dt id="kernel_tuner.strategies.minimize.tune">
<code class="descclassname">kernel_tuner.strategies.minimize.</code><code class="descname">tune</code><span class="sig-paren">(</span><em>runner</em>, <em>kernel_options</em>, <em>device_options</em>, <em>tuning_options</em><span class="sig-paren">)</span><a class="headerlink" href="#kernel_tuner.strategies.minimize.tune" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the best performing kernel configuration in the parameter space</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Params runner:</th><td class="field-body"><p class="first">A runner from kernel_tuner.runners</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>kernel_options</strong> (<em>kernel_tuner.interface.Options</em>) – A dictionary with all options for the kernel.</li>
<li><strong>device_options</strong> (<em>kernel_tuner.interface.Options</em>) – A dictionary with all options for the device
on which the kernel should be tuned.</li>
<li><strong>tuning_options</strong> (<em>kernel_tuner.interface.Options</em>) – A dictionary with all options regarding the tuning
process.</li>
</ul>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">A list of dictionaries for executed kernel configurations and their
execution times. And a dictionary that contains a information
about the hardware/software environment on which the tuning took place.</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list(dict()), dict()</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="kernel_tuner.strategies.minimize.unscale_and_snap_to_nearest">
<code class="descclassname">kernel_tuner.strategies.minimize.</code><code class="descname">unscale_and_snap_to_nearest</code><span class="sig-paren">(</span><em>x</em>, <em>tune_params</em>, <em>eps</em><span class="sig-paren">)</span><a class="headerlink" href="#kernel_tuner.strategies.minimize.unscale_and_snap_to_nearest" title="Permalink to this definition">¶</a></dt>
<dd><p>helper func that snaps a scaled variable to the nearest config</p>
</dd></dl>

</div>
<div class="section" id="module-kernel_tuner.strategies.basinhopping">
<span id="kernel-tuner-strategies-basinhopping"></span><h3>kernel_tuner.strategies.basinhopping<a class="headerlink" href="#module-kernel_tuner.strategies.basinhopping" title="Permalink to this headline">¶</a></h3>
<p>The strategy that uses the basinhopping global optimization method</p>
<dl class="function">
<dt id="kernel_tuner.strategies.basinhopping.tune">
<code class="descclassname">kernel_tuner.strategies.basinhopping.</code><code class="descname">tune</code><span class="sig-paren">(</span><em>runner</em>, <em>kernel_options</em>, <em>device_options</em>, <em>tuning_options</em><span class="sig-paren">)</span><a class="headerlink" href="#kernel_tuner.strategies.basinhopping.tune" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the best performing kernel configuration in the parameter space</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Params runner:</th><td class="field-body"><p class="first">A runner from kernel_tuner.runners</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>kernel_options</strong> (<em>dict</em>) – A dictionary with all options for the kernel.</li>
<li><strong>device_options</strong> (<em>dict</em>) – A dictionary with all options for the device
on which the kernel should be tuned.</li>
<li><strong>tuning_options</strong> (<em>dict</em>) – A dictionary with all options regarding the tuning
process.</li>
</ul>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">A list of dictionaries for executed kernel configurations and their
execution times. And a dictionary that contains a information
about the hardware/software environment on which the tuning took place.</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list(dict()), dict()</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-kernel_tuner.strategies.diff_evo">
<span id="kernel-tuner-strategies-diff-evo"></span><h3>kernel_tuner.strategies.diff_evo<a class="headerlink" href="#module-kernel_tuner.strategies.diff_evo" title="Permalink to this headline">¶</a></h3>
<p>The differential evolution strategy that optimizes the search through the parameter space</p>
<dl class="function">
<dt id="kernel_tuner.strategies.diff_evo.tune">
<code class="descclassname">kernel_tuner.strategies.diff_evo.</code><code class="descname">tune</code><span class="sig-paren">(</span><em>runner</em>, <em>kernel_options</em>, <em>device_options</em>, <em>tuning_options</em><span class="sig-paren">)</span><a class="headerlink" href="#kernel_tuner.strategies.diff_evo.tune" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the best performing kernel configuration in the parameter space</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Params runner:</th><td class="field-body"><p class="first">A runner from kernel_tuner.runners</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>kernel_options</strong> (<em>kernel_tuner.interface.Options</em>) – A dictionary with all options for the kernel.</li>
<li><strong>device_options</strong> (<em>kernel_tuner.interface.Options</em>) – A dictionary with all options for the device
on which the kernel should be tuned.</li>
<li><strong>tuning_options</strong> (<em>kernel_tuner.interface.Options</em>) – A dictionary with all options regarding the tuning
process.</li>
</ul>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">A list of dictionaries for executed kernel configurations and their
execution times. And a dictionary that contains a information
about the hardware/software environment on which the tuning took place.</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list(dict()), dict()</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
</div>
<div class="section" id="runners">
<h2>Runners<a class="headerlink" href="#runners" title="Permalink to this headline">¶</a></h2>
<div class="section" id="kernel-tuner-runners-sequential-sequentialrunner">
<h3>kernel_tuner.runners.sequential.SequentialRunner<a class="headerlink" href="#kernel-tuner-runners-sequential-sequentialrunner" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="kernel_tuner.runners.sequential.SequentialRunner">
<em class="property">class </em><code class="descclassname">kernel_tuner.runners.sequential.</code><code class="descname">SequentialRunner</code><span class="sig-paren">(</span><em>kernel_options</em>, <em>device_options</em>, <em>iterations</em><span class="sig-paren">)</span><a class="headerlink" href="#kernel_tuner.runners.sequential.SequentialRunner" title="Permalink to this definition">¶</a></dt>
<dd><p>SequentialRunner is used for tuning with a single process/thread</p>
<dl class="method">
<dt id="kernel_tuner.runners.sequential.SequentialRunner.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>kernel_options</em>, <em>device_options</em>, <em>iterations</em><span class="sig-paren">)</span><a class="headerlink" href="#kernel_tuner.runners.sequential.SequentialRunner.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Instantiate the SequentialRunner</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>kernel_options</strong> (<em>kernel_tuner.interface.Options</em>) – A dictionary with all options for the kernel.</li>
<li><strong>device_options</strong> (<em>kernel_tuner.interface.Options</em>) – A dictionary with all options for the device
on which the kernel should be tuned.</li>
<li><strong>iterations</strong> (<em>int</em>) – The number of iterations used for benchmarking
each kernel instance.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kernel_tuner.runners.sequential.SequentialRunner.run">
<code class="descname">run</code><span class="sig-paren">(</span><em>parameter_space</em>, <em>kernel_options</em>, <em>tuning_options</em><span class="sig-paren">)</span><a class="headerlink" href="#kernel_tuner.runners.sequential.SequentialRunner.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterate through the entire parameter space using a single Python process</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>parameter_space</strong> (<em>iterable</em>) – The parameter space as an iterable.</li>
<li><strong>kernel_options</strong> (<em>kernel_tuner.interface.Options</em>) – A dictionary with all options for the kernel.</li>
<li><strong>tuning_options</strong> (<em>kernel_tuner.iterface.Options</em>) – A dictionary with all options regarding the tuning
process.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">A list of dictionaries for executed kernel configurations and their
execution times. And a dictionary that contains a information
about the hardware/software environment on which the tuning took place.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list(dict()), dict()</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="kernel-tuner-runners-noodles-noodlesrunner">
<h3>kernel_tuner.runners.noodles.NoodlesRunner<a class="headerlink" href="#kernel-tuner-runners-noodles-noodlesrunner" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="kernel_tuner.runners.noodles.NoodlesRunner">
<em class="property">class </em><code class="descclassname">kernel_tuner.runners.noodles.</code><code class="descname">NoodlesRunner</code><span class="sig-paren">(</span><em>device_options</em>, <em>max_threads=1</em><span class="sig-paren">)</span><a class="headerlink" href="#kernel_tuner.runners.noodles.NoodlesRunner" title="Permalink to this definition">¶</a></dt>
<dd><dl class="method">
<dt id="kernel_tuner.runners.noodles.NoodlesRunner.run">
<code class="descname">run</code><span class="sig-paren">(</span><em>parameter_space</em>, <em>kernel_options</em>, <em>tuning_options</em><span class="sig-paren">)</span><a class="headerlink" href="#kernel_tuner.runners.noodles.NoodlesRunner.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Tune all instances in parameter_space using a multiple threads</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>parameter_space</strong> (<em>iterable</em>) – The parameter space as an iterable.</li>
<li><strong>kernel_options</strong> (<em>kernel_tuner.interface.Options</em>) – A dictionary with all options for the kernel.</li>
<li><strong>tuning_options</strong> (<em>kernel_tuner.interface.Options</em>) – A dictionary with all options regarding the tuning
process.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">A list of dictionaries for executed kernel configurations and their
execution times. And a dictionary that contains a information
about the hardware/software environment on which the tuning took place.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list(dict()), dict()</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
</div>
<div class="section" id="device-interfaces">
<h2>Device Interfaces<a class="headerlink" href="#device-interfaces" title="Permalink to this headline">¶</a></h2>
<div class="section" id="kernel-tuner-core-deviceinterface">
<h3>kernel_tuner.core.DeviceInterface<a class="headerlink" href="#kernel-tuner-core-deviceinterface" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="kernel_tuner.core.DeviceInterface">
<em class="property">class </em><code class="descclassname">kernel_tuner.core.</code><code class="descname">DeviceInterface</code><span class="sig-paren">(</span><em>original_kernel</em>, <em>device=0</em>, <em>platform=0</em>, <em>lang=None</em>, <em>quiet=False</em>, <em>compiler=None</em>, <em>compiler_options=None</em>, <em>iterations=7</em><span class="sig-paren">)</span><a class="headerlink" href="#kernel_tuner.core.DeviceInterface" title="Permalink to this definition">¶</a></dt>
<dd><p>Class that offers a High-Level Device Interface to the rest of the Kernel Tuner</p>
<dl class="method">
<dt id="kernel_tuner.core.DeviceInterface.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>original_kernel</em>, <em>device=0</em>, <em>platform=0</em>, <em>lang=None</em>, <em>quiet=False</em>, <em>compiler=None</em>, <em>compiler_options=None</em>, <em>iterations=7</em><span class="sig-paren">)</span><a class="headerlink" href="#kernel_tuner.core.DeviceInterface.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Instantiate the DeviceInterface, based on language in kernel source</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>original_kernel</strong> (<em>kernel source as a string</em><em> or </em><em>a list of strings denoting filenames</em>) – The source of the kernel as passed to tune_kernel</li>
<li><strong>device</strong> (<em>int</em>) – CUDA/OpenCL device to use, in case you have multiple
CUDA-capable GPUs or OpenCL devices you may use this to select one,
0 by default. Ignored if you are tuning host code by passing lang=”C”.</li>
<li><strong>platform</strong> – OpenCL platform to use, in case you have multiple
OpenCL platforms you may use this to select one,
0 by default. Ignored if not using OpenCL.</li>
<li><strong>lang</strong> (<em>string</em>) – Specifies the language used for GPU kernels. The kernel_tuner
automatically detects the language, but if it fails, you may specify
the language using this argument, currently supported: “CUDA”, “OpenCL”, or “C”</li>
<li><strong>compiler_options</strong> (<em>list of strings</em>) – The compiler options to use when compiling kernels for this device.</li>
<li><strong>iterations</strong> (<em>int</em>) – Number of iterations to be used when benchmarking using this device.</li>
<li><strong>times</strong> (<em>bool</em>) – Return the execution time of all iterations.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kernel_tuner.core.DeviceInterface.benchmark">
<code class="descname">benchmark</code><span class="sig-paren">(</span><em>func</em>, <em>gpu_args</em>, <em>instance</em>, <em>times</em>, <em>verbose</em><span class="sig-paren">)</span><a class="headerlink" href="#kernel_tuner.core.DeviceInterface.benchmark" title="Permalink to this definition">¶</a></dt>
<dd><p>benchmark the kernel instance</p>
</dd></dl>

<dl class="method">
<dt id="kernel_tuner.core.DeviceInterface.check_kernel_correctness">
<code class="descname">check_kernel_correctness</code><span class="sig-paren">(</span><em>func</em>, <em>gpu_args</em>, <em>instance</em>, <em>answer</em>, <em>atol</em>, <em>verify</em>, <em>verbose</em><span class="sig-paren">)</span><a class="headerlink" href="#kernel_tuner.core.DeviceInterface.check_kernel_correctness" title="Permalink to this definition">¶</a></dt>
<dd><p>runs the kernel once and checks the result against answer</p>
</dd></dl>

<dl class="method">
<dt id="kernel_tuner.core.DeviceInterface.compile_and_benchmark">
<code class="descname">compile_and_benchmark</code><span class="sig-paren">(</span><em>gpu_args</em>, <em>params</em>, <em>kernel_options</em>, <em>tuning_options</em><span class="sig-paren">)</span><a class="headerlink" href="#kernel_tuner.core.DeviceInterface.compile_and_benchmark" title="Permalink to this definition">¶</a></dt>
<dd><p>Compile and benchmark a kernel instance based on kernel strings and parameters</p>
</dd></dl>

<dl class="method">
<dt id="kernel_tuner.core.DeviceInterface.compile_kernel">
<code class="descname">compile_kernel</code><span class="sig-paren">(</span><em>instance</em>, <em>verbose</em><span class="sig-paren">)</span><a class="headerlink" href="#kernel_tuner.core.DeviceInterface.compile_kernel" title="Permalink to this definition">¶</a></dt>
<dd><p>compile the kernel for this specific instance</p>
</dd></dl>

<dl class="method">
<dt id="kernel_tuner.core.DeviceInterface.copy_constant_memory_args">
<code class="descname">copy_constant_memory_args</code><span class="sig-paren">(</span><em>cmem_args</em><span class="sig-paren">)</span><a class="headerlink" href="#kernel_tuner.core.DeviceInterface.copy_constant_memory_args" title="Permalink to this definition">¶</a></dt>
<dd><p>adds constant memory arguments to the most recently compiled module, if using CUDA</p>
</dd></dl>

<dl class="method">
<dt id="kernel_tuner.core.DeviceInterface.create_kernel_instance">
<code class="descname">create_kernel_instance</code><span class="sig-paren">(</span><em>kernel_options</em>, <em>params</em>, <em>verbose</em><span class="sig-paren">)</span><a class="headerlink" href="#kernel_tuner.core.DeviceInterface.create_kernel_instance" title="Permalink to this definition">¶</a></dt>
<dd><p>create kernel instance from kernel source, parameters, problem size, grid divisors, and so on</p>
</dd></dl>

<dl class="method">
<dt id="kernel_tuner.core.DeviceInterface.get_environment">
<code class="descname">get_environment</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#kernel_tuner.core.DeviceInterface.get_environment" title="Permalink to this definition">¶</a></dt>
<dd><p>Return dictionary with information about the environment</p>
</dd></dl>

<dl class="method">
<dt id="kernel_tuner.core.DeviceInterface.memcpy_dtoh">
<code class="descname">memcpy_dtoh</code><span class="sig-paren">(</span><em>dest</em>, <em>src</em><span class="sig-paren">)</span><a class="headerlink" href="#kernel_tuner.core.DeviceInterface.memcpy_dtoh" title="Permalink to this definition">¶</a></dt>
<dd><p>perform a device to host memory copy</p>
</dd></dl>

<dl class="method">
<dt id="kernel_tuner.core.DeviceInterface.ready_argument_list">
<code class="descname">ready_argument_list</code><span class="sig-paren">(</span><em>arguments</em><span class="sig-paren">)</span><a class="headerlink" href="#kernel_tuner.core.DeviceInterface.ready_argument_list" title="Permalink to this definition">¶</a></dt>
<dd><p>ready argument list to be passed to the kernel, allocates gpu mem if necessary</p>
</dd></dl>

<dl class="method">
<dt id="kernel_tuner.core.DeviceInterface.run_kernel">
<code class="descname">run_kernel</code><span class="sig-paren">(</span><em>func</em>, <em>gpu_args</em>, <em>instance</em><span class="sig-paren">)</span><a class="headerlink" href="#kernel_tuner.core.DeviceInterface.run_kernel" title="Permalink to this definition">¶</a></dt>
<dd><p>Run a compiled kernel instance on a device</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="kernel-tuner-cuda-cudafunctions">
<h3>kernel_tuner.cuda.CudaFunctions<a class="headerlink" href="#kernel-tuner-cuda-cudafunctions" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="kernel_tuner.cuda.CudaFunctions">
<em class="property">class </em><code class="descclassname">kernel_tuner.cuda.</code><code class="descname">CudaFunctions</code><span class="sig-paren">(</span><em>device=0</em>, <em>iterations=7</em>, <em>compiler_options=None</em><span class="sig-paren">)</span><a class="headerlink" href="#kernel_tuner.cuda.CudaFunctions" title="Permalink to this definition">¶</a></dt>
<dd><p>Class that groups the CUDA functions on maintains state about the device</p>
<dl class="method">
<dt id="kernel_tuner.cuda.CudaFunctions.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>device=0</em>, <em>iterations=7</em>, <em>compiler_options=None</em><span class="sig-paren">)</span><a class="headerlink" href="#kernel_tuner.cuda.CudaFunctions.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>instantiate CudaFunctions object used for interacting with the CUDA device</p>
<p>Instantiating this object will inspect and store certain device properties at
runtime, which are used during compilation and/or execution of kernels by the
kernel tuner. It also maintains a reference to the most recently compiled
source module for copying data to constant memory before kernel launch.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>device</strong> (<em>int</em>) – Number of CUDA device to use for this context</li>
<li><strong>iterations</strong> (<em>int</em>) – Number of iterations used while benchmarking a kernel, 7 by default.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kernel_tuner.cuda.CudaFunctions.benchmark">
<code class="descname">benchmark</code><span class="sig-paren">(</span><em>func</em>, <em>gpu_args</em>, <em>threads</em>, <em>grid</em>, <em>times</em><span class="sig-paren">)</span><a class="headerlink" href="#kernel_tuner.cuda.CudaFunctions.benchmark" title="Permalink to this definition">¶</a></dt>
<dd><p>runs the kernel and measures time repeatedly, returns average time</p>
<p>Runs the kernel and measures kernel execution time repeatedly, number of
iterations is set during the creation of CudaFunctions. Benchmark returns
a robust average, from all measurements the fastest and slowest runs are
discarded and the rest is included in the returned average. The reason for
this is to be robust against initialization artifacts and other exceptional
cases.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>func</strong> (<em>pycuda.driver.Function</em>) – A PyCuda kernel compiled for this specific kernel configuration</li>
<li><strong>gpu_args</strong> (<em>list</em><em>( </em><em>pycuda.driver.DeviceAllocation</em><em>, </em><em>numpy.int32</em><em>, </em><em>..</em><em>)</em>) – A list of arguments to the kernel, order should match the
order in the code. Allowed values are either variables in global memory
or single values passed by value.</li>
<li><strong>threads</strong> (<em>tuple</em><em>(</em><em>int</em><em>, </em><em>int</em><em>, </em><em>int</em><em>)</em>) – A tuple listing the number of threads in each dimension of
the thread block</li>
<li><strong>grid</strong> (<em>tuple</em><em>(</em><em>int</em><em>, </em><em>int</em><em>)</em>) – A tuple listing the number of thread blocks in each dimension
of the grid</li>
<li><strong>times</strong> (<em>bool</em>) – Return the execution time of all iterations.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">All execution times, if times=True, or a robust average for the
kernel execution time.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">float</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kernel_tuner.cuda.CudaFunctions.compile">
<code class="descname">compile</code><span class="sig-paren">(</span><em>kernel_name</em>, <em>kernel_string</em><span class="sig-paren">)</span><a class="headerlink" href="#kernel_tuner.cuda.CudaFunctions.compile" title="Permalink to this definition">¶</a></dt>
<dd><p>call the CUDA compiler to compile the kernel, return the device function</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>kernel_name</strong> (<em>string</em>) – The name of the kernel to be compiled, used to lookup the
function after compilation.</li>
<li><strong>kernel_string</strong> (<em>string</em>) – The CUDA kernel code that contains the function <cite>kernel_name</cite></li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">An CUDA kernel that can be called directly.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">pycuda.driver.Function</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kernel_tuner.cuda.CudaFunctions.copy_constant_memory_args">
<code class="descname">copy_constant_memory_args</code><span class="sig-paren">(</span><em>cmem_args</em><span class="sig-paren">)</span><a class="headerlink" href="#kernel_tuner.cuda.CudaFunctions.copy_constant_memory_args" title="Permalink to this definition">¶</a></dt>
<dd><p>adds constant memory arguments to the most recently compiled module</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>cmem_args</strong> (<em>dict</em><em>( </em><em>string: numpy.ndarray</em><em>, </em><em>..</em><em> )</em>) – A dictionary containing the data to be passed to the
device constant memory. The format to be used is as follows: A
string key is used to name the constant memory symbol to which the
value needs to be copied. Similar to regular arguments, these need
to be numpy objects, such as numpy.ndarray or numpy.int32, and so on.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kernel_tuner.cuda.CudaFunctions.memcpy_dtoh">
<code class="descname">memcpy_dtoh</code><span class="sig-paren">(</span><em>dest</em>, <em>src</em><span class="sig-paren">)</span><a class="headerlink" href="#kernel_tuner.cuda.CudaFunctions.memcpy_dtoh" title="Permalink to this definition">¶</a></dt>
<dd><p>perform a device to host memory copy</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>dest</strong> (<em>numpy.ndarray</em>) – A numpy array in host memory to store the data</li>
<li><strong>src</strong> (<em>pycuda.driver.DeviceAllocation</em>) – A GPU memory allocation unit</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kernel_tuner.cuda.CudaFunctions.memset">
<code class="descname">memset</code><span class="sig-paren">(</span><em>allocation</em>, <em>value</em>, <em>size</em><span class="sig-paren">)</span><a class="headerlink" href="#kernel_tuner.cuda.CudaFunctions.memset" title="Permalink to this definition">¶</a></dt>
<dd><p>set the memory in allocation to the value in value</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>allocation</strong> (<em>pycuda.driver.DeviceAllocation</em>) – A GPU memory allocation unit</li>
<li><strong>value</strong> (<em>a single 8-bit unsigned int</em>) – The value to set the memory to</li>
<li><strong>size</strong> (<em>int</em>) – The size of to the allocation unit in bytes</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kernel_tuner.cuda.CudaFunctions.ready_argument_list">
<code class="descname">ready_argument_list</code><span class="sig-paren">(</span><em>arguments</em><span class="sig-paren">)</span><a class="headerlink" href="#kernel_tuner.cuda.CudaFunctions.ready_argument_list" title="Permalink to this definition">¶</a></dt>
<dd><p>ready argument list to be passed to the kernel, allocates gpu mem</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>arguments</strong> (<em>list</em><em>(</em><em>numpy objects</em><em>)</em>) – List of arguments to be passed to the kernel.
The order should match the argument list on the CUDA kernel.
Allowed values are numpy.ndarray, and/or numpy.int32, numpy.float32, and so on.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">A list of arguments that can be passed to an CUDA kernel.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">list( pycuda.driver.DeviceAllocation, numpy.int32, .. )</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kernel_tuner.cuda.CudaFunctions.run_kernel">
<code class="descname">run_kernel</code><span class="sig-paren">(</span><em>func</em>, <em>gpu_args</em>, <em>threads</em>, <em>grid</em><span class="sig-paren">)</span><a class="headerlink" href="#kernel_tuner.cuda.CudaFunctions.run_kernel" title="Permalink to this definition">¶</a></dt>
<dd><p>runs the CUDA kernel passed as ‘func’</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>func</strong> (<em>pycuda.driver.Function</em>) – A PyCuda kernel compiled for this specific kernel configuration</li>
<li><strong>gpu_args</strong> (<em>list</em><em>( </em><em>pycuda.driver.DeviceAllocation</em><em>, </em><em>numpy.int32</em><em>, </em><em>..</em><em>)</em>) – A list of arguments to the kernel, order should match the
order in the code. Allowed values are either variables in global memory
or single values passed by value.</li>
<li><strong>threads</strong> (<em>tuple</em><em>(</em><em>int</em><em>, </em><em>int</em><em>, </em><em>int</em><em>)</em>) – A tuple listing the number of threads in each dimension of
the thread block</li>
<li><strong>grid</strong> (<em>tuple</em><em>(</em><em>int</em><em>, </em><em>int</em><em>)</em>) – A tuple listing the number of thread blocks in each dimension
of the grid</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="kernel-tuner-opencl-openclfunctions">
<h3>kernel_tuner.opencl.OpenCLFunctions<a class="headerlink" href="#kernel-tuner-opencl-openclfunctions" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="kernel_tuner.opencl.OpenCLFunctions">
<em class="property">class </em><code class="descclassname">kernel_tuner.opencl.</code><code class="descname">OpenCLFunctions</code><span class="sig-paren">(</span><em>device=0</em>, <em>platform=0</em>, <em>iterations=7</em>, <em>compiler_options=None</em><span class="sig-paren">)</span><a class="headerlink" href="#kernel_tuner.opencl.OpenCLFunctions" title="Permalink to this definition">¶</a></dt>
<dd><p>Class that groups the OpenCL functions on maintains some state about the device</p>
<dl class="method">
<dt id="kernel_tuner.opencl.OpenCLFunctions.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>device=0</em>, <em>platform=0</em>, <em>iterations=7</em>, <em>compiler_options=None</em><span class="sig-paren">)</span><a class="headerlink" href="#kernel_tuner.opencl.OpenCLFunctions.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates OpenCL device context and reads device properties</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>device</strong> (<em>int</em>) – The ID of the OpenCL device to use for benchmarking</li>
<li><strong>iterations</strong> (<em>int</em>) – The number of iterations to run the kernel during benchmarking, 7 by default.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kernel_tuner.opencl.OpenCLFunctions.benchmark">
<code class="descname">benchmark</code><span class="sig-paren">(</span><em>func</em>, <em>gpu_args</em>, <em>threads</em>, <em>grid</em>, <em>times</em><span class="sig-paren">)</span><a class="headerlink" href="#kernel_tuner.opencl.OpenCLFunctions.benchmark" title="Permalink to this definition">¶</a></dt>
<dd><p>runs the kernel and measures time repeatedly, returns average time</p>
<p>Runs the kernel and measures kernel execution time repeatedly, number of
iterations is set during the creation of OpenCLFunctions. Benchmark returns
a robust average, from all measurements the fastest and slowest runs are
discarded and the rest is included in the returned average. The reason for
this is to be robust against initialization artifacts and other exceptional
cases.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>func</strong> (<em>pyopencl.Kernel</em>) – A PyOpenCL kernel compiled for this specific kernel configuration</li>
<li><strong>gpu_args</strong> (<em>list</em><em>( </em><em>pyopencl.Buffer</em><em>, </em><em>numpy.int32</em><em>, </em><em>..</em><em>)</em>) – A list of arguments to the kernel, order should match the
order in the code. Allowed values are either variables in global memory
or single values passed by value.</li>
<li><strong>threads</strong> (<em>tuple</em><em>(</em><em>int</em><em>, </em><em>int</em><em>, </em><em>int</em><em>)</em>) – A tuple listing the number of work items in each dimension of
the work group.</li>
<li><strong>grid</strong> (<em>tuple</em><em>(</em><em>int</em><em>, </em><em>int</em><em>)</em>) – A tuple listing the number of work groups in each dimension
of the NDRange.</li>
<li><strong>times</strong> (<em>bool</em>) – Return the execution time of all iterations.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">All execution times, if times=True, or a robust average for the
kernel execution time.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">float</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kernel_tuner.opencl.OpenCLFunctions.compile">
<code class="descname">compile</code><span class="sig-paren">(</span><em>kernel_name</em>, <em>kernel_string</em><span class="sig-paren">)</span><a class="headerlink" href="#kernel_tuner.opencl.OpenCLFunctions.compile" title="Permalink to this definition">¶</a></dt>
<dd><p>call the OpenCL compiler to compile the kernel, return the device function</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>kernel_name</strong> (<em>string</em>) – The name of the kernel to be compiled, used to lookup the
function after compilation.</li>
<li><strong>kernel_string</strong> (<em>string</em>) – The OpenCL kernel code that contains the function <cite>kernel_name</cite></li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">An OpenCL kernel that can be called directly.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">pyopencl.Kernel</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kernel_tuner.opencl.OpenCLFunctions.memcpy_dtoh">
<code class="descname">memcpy_dtoh</code><span class="sig-paren">(</span><em>dest</em>, <em>src</em><span class="sig-paren">)</span><a class="headerlink" href="#kernel_tuner.opencl.OpenCLFunctions.memcpy_dtoh" title="Permalink to this definition">¶</a></dt>
<dd><p>perform a device to host memory copy</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>dest</strong> (<em>numpy.ndarray</em>) – A numpy array in host memory to store the data</li>
<li><strong>src</strong> (<em>pyopencl.Buffer</em>) – An OpenCL Buffer to copy data from</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kernel_tuner.opencl.OpenCLFunctions.memset">
<code class="descname">memset</code><span class="sig-paren">(</span><em>buffer</em>, <em>value</em>, <em>size</em><span class="sig-paren">)</span><a class="headerlink" href="#kernel_tuner.opencl.OpenCLFunctions.memset" title="Permalink to this definition">¶</a></dt>
<dd><p>set the memory in allocation to the value in value</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>allocation</strong> (<em>pyopencl.Buffer</em>) – An OpenCL Buffer to fill</li>
<li><strong>value</strong> (<em>a single 32-bit int</em>) – The value to set the memory to</li>
<li><strong>size</strong> (<em>int</em>) – The size of to the allocation unit in bytes</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kernel_tuner.opencl.OpenCLFunctions.ready_argument_list">
<code class="descname">ready_argument_list</code><span class="sig-paren">(</span><em>arguments</em><span class="sig-paren">)</span><a class="headerlink" href="#kernel_tuner.opencl.OpenCLFunctions.ready_argument_list" title="Permalink to this definition">¶</a></dt>
<dd><p>ready argument list to be passed to the kernel, allocates gpu mem</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>arguments</strong> (<em>list</em><em>(</em><em>numpy objects</em><em>)</em>) – List of arguments to be passed to the kernel.
The order should match the argument list on the OpenCL kernel.
Allowed values are numpy.ndarray, and/or numpy.int32, numpy.float32, and so on.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">A list of arguments that can be passed to an OpenCL kernel.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">list( pyopencl.Buffer, numpy.int32, .. )</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kernel_tuner.opencl.OpenCLFunctions.run_kernel">
<code class="descname">run_kernel</code><span class="sig-paren">(</span><em>func</em>, <em>gpu_args</em>, <em>threads</em>, <em>grid</em><span class="sig-paren">)</span><a class="headerlink" href="#kernel_tuner.opencl.OpenCLFunctions.run_kernel" title="Permalink to this definition">¶</a></dt>
<dd><p>runs the OpenCL kernel passed as ‘func’</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>func</strong> (<em>pyopencl.Kernel</em>) – An OpenCL Kernel</li>
<li><strong>gpu_args</strong> (<em>list</em><em>( </em><em>pyopencl.Buffer</em><em>, </em><em>numpy.int32</em><em>, </em><em>..</em><em>)</em>) – A list of arguments to the kernel, order should match the
order in the code. Allowed values are either variables in global memory
or single values passed by value.</li>
<li><strong>threads</strong> (<em>tuple</em><em>(</em><em>int</em><em>, </em><em>int</em><em>, </em><em>int</em><em>)</em>) – A tuple listing the number of work items in each dimension of
the work group.</li>
<li><strong>grid</strong> (<em>tuple</em><em>(</em><em>int</em><em>, </em><em>int</em><em>)</em>) – A tuple listing the number of work groups in each dimension
of the NDRange.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="kernel-tuner-c-cfunctions">
<h3>kernel_tuner.c.CFunctions<a class="headerlink" href="#kernel-tuner-c-cfunctions" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="kernel_tuner.c.CFunctions">
<em class="property">class </em><code class="descclassname">kernel_tuner.c.</code><code class="descname">CFunctions</code><span class="sig-paren">(</span><em>iterations=7</em>, <em>compiler_options=None</em>, <em>compiler=None</em><span class="sig-paren">)</span><a class="headerlink" href="#kernel_tuner.c.CFunctions" title="Permalink to this definition">¶</a></dt>
<dd><p>Class that groups the code for running and compiling C functions</p>
<dl class="method">
<dt id="kernel_tuner.c.CFunctions.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>iterations=7</em>, <em>compiler_options=None</em>, <em>compiler=None</em><span class="sig-paren">)</span><a class="headerlink" href="#kernel_tuner.c.CFunctions.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>instantiate CFunctions object used for interacting with C code</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>iterations</strong> (<em>int</em>) – Number of iterations used while benchmarking a kernel, 7 by default.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kernel_tuner.c.CFunctions.benchmark">
<code class="descname">benchmark</code><span class="sig-paren">(</span><em>func</em>, <em>c_args</em>, <em>threads</em>, <em>grid</em>, <em>times</em><span class="sig-paren">)</span><a class="headerlink" href="#kernel_tuner.c.CFunctions.benchmark" title="Permalink to this definition">¶</a></dt>
<dd><p>runs the kernel repeatedly, returns averaged returned value</p>
<p>The C function tuning is a little bit more flexible than direct CUDA
or OpenCL kernel tuning. The C function needs to measure time, or some
other quality metric you wish to tune on, on its own and should
therefore return a single floating-point value.</p>
<p>Benchmark runs the C function repeatedly and returns the average of the
values returned by the C function. The number of iterations is set
during the creation of the CFunctions object. For all measurements the
lowest and highest values are discarded and the rest is included in the
average. The reason for this is to be robust against initialization
artifacts and other exceptional cases.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>func</strong> (<em>ctypes._FuncPtr</em>) – A C function compiled for this specific configuration</li>
<li><strong>c_args</strong> (<em>list</em><em>(</em><em>)</em>) – A list of arguments to the function, order should match the
order in the code. The list should be prepared using
ready_argument_list().</li>
<li><strong>threads</strong> (<em>any</em>) – Ignored, but left as argument for now to have the same
interface as CudaFunctions and OpenCLFunctions.</li>
<li><strong>grid</strong> (<em>any</em>) – Ignored, but left as argument for now to have the same
interface as CudaFunctions and OpenCLFunctions.</li>
<li><strong>times</strong> (<em>bool</em>) – Return the execution time of all iterations.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">All execution times, if times=True, or a robust average for the
kernel execution time.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">float</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kernel_tuner.c.CFunctions.cleanup_lib">
<code class="descname">cleanup_lib</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#kernel_tuner.c.CFunctions.cleanup_lib" title="Permalink to this definition">¶</a></dt>
<dd><p>unload the previously loaded shared library</p>
</dd></dl>

<dl class="method">
<dt id="kernel_tuner.c.CFunctions.compile">
<code class="descname">compile</code><span class="sig-paren">(</span><em>kernel_name</em>, <em>kernel_string</em><span class="sig-paren">)</span><a class="headerlink" href="#kernel_tuner.c.CFunctions.compile" title="Permalink to this definition">¶</a></dt>
<dd><p>call the C compiler to compile the kernel, return the function</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>kernel_name</strong> (<em>string</em>) – The name of the kernel to be compiled, used to lookup the
function after compilation.</li>
<li><strong>kernel_string</strong> (<em>string</em>) – The C code that contains the function <cite>kernel_name</cite></li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">An ctypes function that can be called directly.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">ctypes._FuncPtr</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kernel_tuner.c.CFunctions.memcpy_dtoh">
<code class="descname">memcpy_dtoh</code><span class="sig-paren">(</span><em>dest</em>, <em>src</em><span class="sig-paren">)</span><a class="headerlink" href="#kernel_tuner.c.CFunctions.memcpy_dtoh" title="Permalink to this definition">¶</a></dt>
<dd><p>a simple memcpy expects a ctypes pointer, returns a numpy array</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>dest</strong> (<em>numpy.ndarray</em>) – A numpy array to store the data</li>
<li><strong>src</strong> (<em>ctypes.pointer</em>) – A ctypes pointer to some memory allocation</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kernel_tuner.c.CFunctions.memset">
<code class="descname">memset</code><span class="sig-paren">(</span><em>allocation</em>, <em>value</em>, <em>size</em><span class="sig-paren">)</span><a class="headerlink" href="#kernel_tuner.c.CFunctions.memset" title="Permalink to this definition">¶</a></dt>
<dd><p>set the memory in allocation to the value in value</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>allocation</strong> (<em>pycuda.driver.DeviceAllocation</em>) – A memory allocation unit</li>
<li><strong>value</strong> (<em>a single 32-bit float</em><em> or </em><em>int</em>) – The value to set the memory to</li>
<li><strong>size</strong> (<em>int</em>) – The size of to the allocation unit in bytes</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kernel_tuner.c.CFunctions.ready_argument_list">
<code class="descname">ready_argument_list</code><span class="sig-paren">(</span><em>arguments</em><span class="sig-paren">)</span><a class="headerlink" href="#kernel_tuner.c.CFunctions.ready_argument_list" title="Permalink to this definition">¶</a></dt>
<dd><p>ready argument list to be passed to the C function</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>arguments</strong> (<em>list</em><em>(</em><em>numpy objects</em><em>)</em>) – List of arguments to be passed to the C function.
The order should match the argument list on the C function.
Allowed values are numpy.ndarray, and/or numpy.int32, numpy.float32, and so on.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">A list of arguments that can be passed to the C function.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">list()</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kernel_tuner.c.CFunctions.run_kernel">
<code class="descname">run_kernel</code><span class="sig-paren">(</span><em>func</em>, <em>c_args</em>, <em>threads</em>, <em>grid</em><span class="sig-paren">)</span><a class="headerlink" href="#kernel_tuner.c.CFunctions.run_kernel" title="Permalink to this definition">¶</a></dt>
<dd><p>runs the kernel once, returns whatever the kernel returns</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>func</strong> (<em>ctypes._FuncPtr</em>) – A C function compiled for this specific configuration</li>
<li><strong>c_args</strong> (<em>list</em><em>(</em><em>)</em>) – A list of arguments to the function, order should match the
order in the code. The list should be prepared using
ready_argument_list().</li>
<li><strong>threads</strong> (<em>any</em>) – Ignored, but left as argument for now to have the same
interface as CudaFunctions and OpenCLFunctions.</li>
<li><strong>grid</strong> (<em>any</em>) – Ignored, but left as argument for now to have the same
interface as CudaFunctions and OpenCLFunctions.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">A robust average of values returned by the C function.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">float</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
</div>
<div class="section" id="util-functions">
<h2>Util Functions<a class="headerlink" href="#util-functions" title="Permalink to this headline">¶</a></h2>
<div class="section" id="module-kernel_tuner.util">
<span id="kernel-tuner-util"></span><h3>kernel_tuner.util<a class="headerlink" href="#module-kernel_tuner.util" title="Permalink to this headline">¶</a></h3>
<p>Module for kernel tuner utility functions</p>
<dl class="function">
<dt id="kernel_tuner.util.check_argument_list">
<code class="descclassname">kernel_tuner.util.</code><code class="descname">check_argument_list</code><span class="sig-paren">(</span><em>kernel_name</em>, <em>kernel_string</em>, <em>args</em><span class="sig-paren">)</span><a class="headerlink" href="#kernel_tuner.util.check_argument_list" title="Permalink to this definition">¶</a></dt>
<dd><p>raise an exception if a kernel arguments do not match host arguments</p>
</dd></dl>

<dl class="function">
<dt id="kernel_tuner.util.check_argument_type">
<code class="descclassname">kernel_tuner.util.</code><code class="descname">check_argument_type</code><span class="sig-paren">(</span><em>dtype</em>, <em>kernel_argument</em>, <em>i</em><span class="sig-paren">)</span><a class="headerlink" href="#kernel_tuner.util.check_argument_type" title="Permalink to this definition">¶</a></dt>
<dd><p>check if the numpy.dtype matches the type used in the code</p>
</dd></dl>

<dl class="function">
<dt id="kernel_tuner.util.check_restrictions">
<code class="descclassname">kernel_tuner.util.</code><code class="descname">check_restrictions</code><span class="sig-paren">(</span><em>restrictions</em>, <em>element</em>, <em>keys</em>, <em>verbose</em><span class="sig-paren">)</span><a class="headerlink" href="#kernel_tuner.util.check_restrictions" title="Permalink to this definition">¶</a></dt>
<dd><p>check whether a specific instance meets the search space restrictions</p>
</dd></dl>

<dl class="function">
<dt id="kernel_tuner.util.check_tune_params_list">
<code class="descclassname">kernel_tuner.util.</code><code class="descname">check_tune_params_list</code><span class="sig-paren">(</span><em>tune_params</em><span class="sig-paren">)</span><a class="headerlink" href="#kernel_tuner.util.check_tune_params_list" title="Permalink to this definition">¶</a></dt>
<dd><p>raise an exception if a tune parameter has a forbidden name</p>
</dd></dl>

<dl class="function">
<dt id="kernel_tuner.util.delete_temp_file">
<code class="descclassname">kernel_tuner.util.</code><code class="descname">delete_temp_file</code><span class="sig-paren">(</span><em>filename</em><span class="sig-paren">)</span><a class="headerlink" href="#kernel_tuner.util.delete_temp_file" title="Permalink to this definition">¶</a></dt>
<dd><p>delete a temporary file, don’t complain if is no longer exists</p>
</dd></dl>

<dl class="function">
<dt id="kernel_tuner.util.detect_language">
<code class="descclassname">kernel_tuner.util.</code><code class="descname">detect_language</code><span class="sig-paren">(</span><em>lang</em>, <em>kernel_source</em><span class="sig-paren">)</span><a class="headerlink" href="#kernel_tuner.util.detect_language" title="Permalink to this definition">¶</a></dt>
<dd><p>attempt to detect language from the kernel_string if not specified</p>
</dd></dl>

<dl class="function">
<dt id="kernel_tuner.util.get_config_string">
<code class="descclassname">kernel_tuner.util.</code><code class="descname">get_config_string</code><span class="sig-paren">(</span><em>params</em>, <em>units=None</em><span class="sig-paren">)</span><a class="headerlink" href="#kernel_tuner.util.get_config_string" title="Permalink to this definition">¶</a></dt>
<dd><p>return a compact string representation of a dictionary</p>
</dd></dl>

<dl class="function">
<dt id="kernel_tuner.util.get_grid_dimensions">
<code class="descclassname">kernel_tuner.util.</code><code class="descname">get_grid_dimensions</code><span class="sig-paren">(</span><em>current_problem_size</em>, <em>params</em>, <em>grid_div</em>, <em>block_size_names</em><span class="sig-paren">)</span><a class="headerlink" href="#kernel_tuner.util.get_grid_dimensions" title="Permalink to this definition">¶</a></dt>
<dd><p>compute grid dims based on problem sizes and listed grid divisors</p>
</dd></dl>

<dl class="function">
<dt id="kernel_tuner.util.get_instance_string">
<code class="descclassname">kernel_tuner.util.</code><code class="descname">get_instance_string</code><span class="sig-paren">(</span><em>params</em><span class="sig-paren">)</span><a class="headerlink" href="#kernel_tuner.util.get_instance_string" title="Permalink to this definition">¶</a></dt>
<dd><p>combine the parameters to a string mostly used for debug output
use of OrderedDict is advised</p>
</dd></dl>

<dl class="function">
<dt id="kernel_tuner.util.get_kernel_string">
<code class="descclassname">kernel_tuner.util.</code><code class="descname">get_kernel_string</code><span class="sig-paren">(</span><em>kernel_source</em>, <em>params=None</em><span class="sig-paren">)</span><a class="headerlink" href="#kernel_tuner.util.get_kernel_string" title="Permalink to this definition">¶</a></dt>
<dd><p>retrieve the kernel source and return as a string</p>
<p>This function processes the passed kernel_source argument, which could be
a function, a string with a filename, or just a string with code already.</p>
<p>If kernel_source is a function, the function is called with instance
parameters in ‘params’ as the only argument.</p>
<p>If kernel_source looks like filename, the file is read in, but if
the file does not exist, it is assumed that the string is not a filename
after all.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>kernel_source</strong> (<em>string</em><em> or </em><em>callable</em>) – One of the sources for the kernel, could be a
function that generates the kernel code, a string containing a filename
that points to the kernel source, or just a string that contains the code.</li>
<li><strong>params</strong> – Dictionary containing the tunable parameters for this specific
kernel instance, only needed when kernel_source is a generator.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">A string containing the kernel code.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">string</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="kernel_tuner.util.get_problem_size">
<code class="descclassname">kernel_tuner.util.</code><code class="descname">get_problem_size</code><span class="sig-paren">(</span><em>problem_size</em>, <em>params</em><span class="sig-paren">)</span><a class="headerlink" href="#kernel_tuner.util.get_problem_size" title="Permalink to this definition">¶</a></dt>
<dd><p>compute current problem size</p>
</dd></dl>

<dl class="function">
<dt id="kernel_tuner.util.get_temp_filename">
<code class="descclassname">kernel_tuner.util.</code><code class="descname">get_temp_filename</code><span class="sig-paren">(</span><em>suffix=None</em><span class="sig-paren">)</span><a class="headerlink" href="#kernel_tuner.util.get_temp_filename" title="Permalink to this definition">¶</a></dt>
<dd><p>return a string in the form of temp_X, where X is a large integer</p>
</dd></dl>

<dl class="function">
<dt id="kernel_tuner.util.get_thread_block_dimensions">
<code class="descclassname">kernel_tuner.util.</code><code class="descname">get_thread_block_dimensions</code><span class="sig-paren">(</span><em>params</em>, <em>block_size_names=None</em><span class="sig-paren">)</span><a class="headerlink" href="#kernel_tuner.util.get_thread_block_dimensions" title="Permalink to this definition">¶</a></dt>
<dd><p>thread block size from tuning params, currently using convention</p>
</dd></dl>

<dl class="function">
<dt id="kernel_tuner.util.looks_like_a_filename">
<code class="descclassname">kernel_tuner.util.</code><code class="descname">looks_like_a_filename</code><span class="sig-paren">(</span><em>original_kernel</em><span class="sig-paren">)</span><a class="headerlink" href="#kernel_tuner.util.looks_like_a_filename" title="Permalink to this definition">¶</a></dt>
<dd><p>attempt to detect whether source code or a filename was passed</p>
</dd></dl>

<dl class="function">
<dt id="kernel_tuner.util.prepare_kernel_string">
<code class="descclassname">kernel_tuner.util.</code><code class="descname">prepare_kernel_string</code><span class="sig-paren">(</span><em>kernel_name</em>, <em>kernel_string</em>, <em>params</em>, <em>grid</em>, <em>threads</em>, <em>block_size_names</em><span class="sig-paren">)</span><a class="headerlink" href="#kernel_tuner.util.prepare_kernel_string" title="Permalink to this definition">¶</a></dt>
<dd><p>prepare kernel string for compilation</p>
<p>Prepends the kernel with a series of C preprocessor defines specific
to this kernel instance:</p>
<blockquote>
<div><ul class="simple">
<li>the thread block dimensions</li>
<li>the grid dimensions</li>
<li>tunable parameters</li>
</ul>
</div></blockquote>
<p>Additionally the name of kernel is replace with an instance specific name. This
is done to prevent that the kernel compilation could be skipped by PyCUDA and/or PyOpenCL,
which may use caching to save compilation time. This feature could lead to strange bugs
in the source code if the name of the kernel is also used for other stuff.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>kernel_name</strong> (<em>string</em>) – Name of the kernel.</li>
<li><strong>kernel_string</strong> (<em>string</em>) – One of the source files of the kernel as a string containing code.</li>
<li><strong>params</strong> (<em>dict</em>) – A dictionary containing the tunable parameters specific to this instance.</li>
<li><strong>grid</strong> (<em>tuple</em><em>(</em><em>x</em><em>,</em><em>y</em><em>,</em><em>z</em><em>)</em>) – A tuple with the grid dimensions for this specific instance.</li>
<li><strong>threads</strong> (<em>tuple</em><em>(</em><em>x</em><em>,</em><em>y</em><em>,</em><em>z</em><em>)</em>) – A tuple with the thread block dimensions for this specific instance.</li>
<li><strong>block_size_names</strong> (<em>tuple</em><em>(</em><em>string</em><em>)</em>) – A tuple with the names of the thread block dimensions used
in the code. By default this is [“block_size_x”, …], but the user
may supply different names if they prefer.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">A string containing the source code made specific to this kernel instance.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">string</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="kernel_tuner.util.prepare_list_of_files">
<code class="descclassname">kernel_tuner.util.</code><code class="descname">prepare_list_of_files</code><span class="sig-paren">(</span><em>kernel_name</em>, <em>kernel_file_list</em>, <em>params</em>, <em>grid</em>, <em>threads</em>, <em>block_size_names</em><span class="sig-paren">)</span><a class="headerlink" href="#kernel_tuner.util.prepare_list_of_files" title="Permalink to this definition">¶</a></dt>
<dd><p>prepare the kernel string along with any additional files</p>
<p>The first file in the list is allowed to include or read in the others
The files beyond the first are considered additional files that may also contain tunable parameters</p>
<p>For each file beyond the first this function creates a temporary file with
preprocessors statements inserted. Occurences of the original filenames in the
first file are replaced with their temporary counterparts.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>kernel_file_list</strong> (<em>list</em><em>(</em><em>string</em><em>)</em>) – A list of filenames. The first file in the list is
allowed to read or include the other files in the list. All files may
will have access to the tunable parameters.</li>
<li><strong>params</strong> (<em>dict</em><em>(</em><em>)</em>) – A dictionary with the tunable parameters for this particular
instance.</li>
<li><strong>grid</strong> (<em>tuple</em><em>(</em><em>)</em>) – The grid dimensions for this instance. The grid dimensions are
also inserted into the code as if they are tunable parameters for
convenience.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="kernel_tuner.util.read_file">
<code class="descclassname">kernel_tuner.util.</code><code class="descname">read_file</code><span class="sig-paren">(</span><em>filename</em><span class="sig-paren">)</span><a class="headerlink" href="#kernel_tuner.util.read_file" title="Permalink to this definition">¶</a></dt>
<dd><p>return the contents of the file named filename or None if file not found</p>
</dd></dl>

<dl class="function">
<dt id="kernel_tuner.util.replace_param_occurrences">
<code class="descclassname">kernel_tuner.util.</code><code class="descname">replace_param_occurrences</code><span class="sig-paren">(</span><em>string</em>, <em>params</em><span class="sig-paren">)</span><a class="headerlink" href="#kernel_tuner.util.replace_param_occurrences" title="Permalink to this definition">¶</a></dt>
<dd><p>replace occurrences of the tuning params with their current value</p>
</dd></dl>

<dl class="function">
<dt id="kernel_tuner.util.setup_block_and_grid">
<code class="descclassname">kernel_tuner.util.</code><code class="descname">setup_block_and_grid</code><span class="sig-paren">(</span><em>problem_size</em>, <em>grid_div</em>, <em>params</em>, <em>block_size_names=None</em><span class="sig-paren">)</span><a class="headerlink" href="#kernel_tuner.util.setup_block_and_grid" title="Permalink to this definition">¶</a></dt>
<dd><p>compute problem size, thread block and grid dimensions for this kernel</p>
</dd></dl>

<dl class="function">
<dt id="kernel_tuner.util.write_file">
<code class="descclassname">kernel_tuner.util.</code><code class="descname">write_file</code><span class="sig-paren">(</span><em>filename</em>, <em>string</em><span class="sig-paren">)</span><a class="headerlink" href="#kernel_tuner.util.write_file" title="Permalink to this definition">¶</a></dt>
<dd><p>dump the contents of string to a file called filename</p>
</dd></dl>

</div>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="contributing.html" class="btn btn-neutral float-right" title="Contribution guide" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="user-api.html" class="btn btn-neutral" title="API Documentation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, Ben van Werkhoven.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.1.7',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>